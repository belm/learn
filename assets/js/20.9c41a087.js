(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{375:function(a,s,t){"use strict";t.r(s);var e=t(45),l=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"linux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[a._v("#")]),a._v(" linux")]),a._v(" "),t("p",[a._v("查看系统")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /etc/issue\nuname -a\ncat /proc/version\n")])])]),t("p",[a._v("查看端口")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("netstat -antpl\n")])])]),t("p",[a._v("查看防火墙端口")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("firewall-cmd --query-port=8000/tcp\n")])])]),t("p",[a._v("查看用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /etc/passwd\n")])])]),t("p",[a._v("查看dns")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /etc/resolv.conf\n")])])]),t("p",[a._v("校验时间")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yum install ntpdate\n\ncrontab add :\n*/30 * * * * /usr/sbin/ntpdate cn.pool.ntp.org > /dev/null\n")])])]),t("p",[a._v("批量杀掉进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ps -ef | grep bi.admin.heitao.com | grep -v grep | awk '{print $2}' | xargs kill -9\n")])])]),t("p",[a._v("查看进程的所有线程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ps -mp pid -o THREAD,tid   //例如： ps -mp 76379 -o THREAD,tid\n")])])]),t("p",[a._v("跟踪线程的系统调用")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("strace -p 线程id\n")])])]),t("p",[a._v("跟踪进程的系统调用")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("strace -fp 进程id\n")])])]),t("p",[a._v("lsof命令查看进程文件描述符对应打开的文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("lsof -p 进程id\n")])])]),t("p",[a._v("查看进程的描述符目录")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ls /proc/进程id/fd\n")])])]),t("p",[a._v("查看进程状态")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /proc/进程id/status\n")])])]),t("p",[a._v("查看进程堆栈信息")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /proc/进程id/stack\n")])])]),t("p",[a._v("查看导致进程睡眠或者等待的函数")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /proc/进程id/wchan\n\npoll_schedule_timeout   是在等待 I/O,不可能使用的是非阻塞 I/O.其他很多进程的状态就是这个，这是一个比较正常的状态\nfutex_wait_queue_me  表示因为资源的问题产生的锁\nsk_wait_data:wait for some data on a network socket.根据这个可以判断该进程是在等待某一个经过 socket 传输的资源\n")])])]),t("p",[a._v("查看dns")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("cat /etc/resolv.conf\n\ndig -x 223.5.5.5\n\nnslookup www.heitao.com 223.5.5.5\n")])])]),t("p",[a._v("参考")]),a._v(" "),t("p",[a._v("http://vearne.cc/archives/297")]),a._v(" "),t("p",[a._v("https://blog.csdn.net/peng314899581/article/details/79064616")]),a._v(" "),t("p",[a._v("生成rsa私钥和公钥")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//生成私钥\nopenssl genrsa -out rsa_private_key.pem 1024\n\n//私钥转成PKCS8格式\nopenssl pkcs8 -topk8 -inform PEM -in rsa_private_key.pem -outform PEM -nocrypt -out ./rsa_private_key_pkcs8.pem\n\n//生成公钥\nopenssl rsa -in rsa_private_key.pem -out rsa_public_key.pem -pubout\n")])])]),t("p",[a._v("生成ssh公私钥")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ssh-keygen -t rsa\n")])])]),t("p",[a._v("软连接")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ln -s  /usr/local/app    app  \n")])])]),t("p",[a._v("指定目录挂盘")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("fdisk -l  #查看系统存在的磁盘\nmount /dev/sdb1 /指定目录 //挂载指定目录\numount /test  //卸载指定目录\n")])])]),t("p",[a._v("修改时区")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("//查看当前时区\nls -l /etc/localtime\n\n执行tzselect 命令选择自己的时区\n\n//删除默认的时区\nsudo rm -f /etc/localtime  \n\n//使用新设置的时区\nsudo ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\nor \n\n//使用系统命令\nsudo timedatectl set-timezone 'Asia/Shanghai'\n")])])]),t("p",[a._v("sed")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\n")])])]),t("p",[a._v("awk")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\n")])])]),t("p",[a._v("grep")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\n")])])])])}),[],!1,null,null,null);s.default=l.exports}}]);